# RAG Chatbot - Full-Stack AI Application ğŸ¤–âœ¨

A comprehensive **Personal AI Productivity Suite** with autonomous RAG capabilities, featuring **dark glassmorphism UI**, intelligent memory management, task automation, and advanced document processing.

## ğŸ¯ Project Status - NEXT-GENERATION AI PRODUCTIVITY SUITE! ğŸš€

**âœ… ALL CORE MILESTONES + ADVANCED FEATURES COMPLETED!**

### Core Foundation (100% Complete)
- âœ… **Milestone 1**: Backend Foundation (Core MVP)
- âœ… **Milestone 2**: Frontend Foundation (React Router v7 UI)
- âœ… **Milestone 3**: Chat Session Management (Multiple chats)
- âœ… **Milestone 4**: Advanced Chat Features (Edit, regenerate, delete)
- âœ… **Milestone 5**: Additional AI Tools (Web search, Wikipedia, Calculator)
- âœ… **Milestone 6**: Usage Statistics & Analytics (Tokens, costs, thought process)
- âœ… **Milestone 7**: Enhanced UX Features (Streaming, voice, shortcuts)
- âœ… **Milestone 8**: Code Rendering & Markdown âœ¨
- âœ… **Milestone 9**: Polish & Optimization âœ¨
- âœ… **Milestone 10**: Production Deployment âœ¨

### Advanced RAG & Memory System (100% Complete)
- âœ… **Phase 1.1**: Autonomous Memory Management (AI creates & manages databases)
- âœ… **Phase 1.2**: Global & Chat-Specific Memory (Dual-layer memory system)
- âœ… **Phase 1.3**: Memory CRUD Interface (Frontend memory management)
- âœ… **Phase 1.4**: Document Context Switching (Ctrl+K document selection)
- âœ… **Phase 2.1-2.4**: Complete RAG System (Vector DB, Document Processing, Embeddings, Hybrid Search)
- âœ… **Phase 2.5**: Document Management UI (Drag & Drop, Preview, Bulk Operations)
- âœ… **Phase 2.6**: Retrieval Quality & Transparency (Source Citations, Relevance Scores)
- âœ… **Phase 2.7**: Memory CRUD Interface (Search, Edit, Tag Management, Timeline)

### Productivity & Task Management (100% Complete)
- âœ… **Phase 2.8**: Global Task Management System (AI-Integrated Todo System)
- âœ… **Phase 2.9**: Smart Reminder System (Recurrence, Notifications, Sidebar)

### Enhanced UX & Organization (NEW! ğŸ†•)
- âœ… **Phase 5.1**: Chat Organization (Tag management, Filtering, Bulk operations)
- âœ… **Phase 5.2**: Keyboard Shortcuts & Accessibility (Comprehensive shortcuts, Help modal)

### ğŸš€ Revolutionary AI Assistant
What started as a simple chatbot has evolved into a **Next-Generation Personal AI Productivity Suite** with autonomous intelligence, comprehensive RAG capabilities, and seamless task management!

## ğŸš€ Features

### Complete Feature Set (Core + Phase 2 Enhancements)

#### ğŸ¤– Core AI & Chat Features
- ğŸ¤– **AI-Powered Chatbot** - Poetic responses powered by Google Gemini 2.0 Flash
- ğŸ§  **Intelligent Tool Usage** - RAG-enabled agent that queries database when relevant
- ğŸ’¬ **RESTful API** - FastAPI backend with automatic documentation
- ğŸ”§ **MongoDB Integration** - Fetch personal posts from database on demand
- ğŸ¯ **Smart Agent Logic** - Uses web search, Wikipedia, calculator, and database tools intelligently
- ğŸ“ **Poetic Responses** - All answers delivered in rhyming verse
- ğŸ¨ **Modern React UI** - Glassmorphism design with dark theme
- ğŸ’¾ **Multiple Chat Sessions** - Create, manage, and switch between conversations
- âœï¸ **Message Management** - Edit, regenerate, and delete messages
- ğŸ“Š **Usage Analytics** - Track tokens, costs, and thought processes
- ğŸŒŠ **Streaming Responses** - Real-time word-by-word message delivery
- ğŸ¤ **Voice Input** - Speak your messages with Web Speech API
- âš¡ **Quick Actions** - Copy, thumbs up/down on messages
- ğŸ”„ **Auto Retry** - Exponential backoff for failed requests
- âŒ¨ï¸ **Keyboard Shortcuts** - Productivity shortcuts for power users
- ğŸ’» **Code Rendering** - Syntax highlighting with Prism.js
- ğŸ“ **Full Markdown Support** - Render rich formatted content
- ğŸ” **Thought Process Viewer** - See agent reasoning steps
- ğŸ’¬ **Toast Notifications** - User feedback for all actions
- â±ï¸ **Message Timestamps** - Relative time display with tooltips
- ğŸ¨ **Loading Skeletons** - Smooth loading states
- ğŸ“± **Responsive Design** - Optimized for mobile and desktop
- ğŸ³ **Docker Deployment** - Production-ready containerization
- âš™ï¸ **Environment Configuration** - Multi-environment setup
- ğŸš€ **Build Optimization** - Code splitting and tree shaking

#### ğŸ§  Advanced RAG & Memory System (NEW!)
- ğŸ§  **Autonomous Memory Management** - AI creates databases, ingests documents automatically
- ğŸ“š **Global & Chat Memory** - Dual-layer memory system (shared + chat-specific)
- ğŸ” **Smart Memory Search** - AI autonomously decides best memory scope
- ğŸ“„ **Multi-Format Document Upload** - PDF, DOCX, TXT, MD support with drag & drop
- ğŸ¯ **Document Context Switching** - Select active documents per chat (Ctrl+K)
- ğŸ“Š **Memory CRUD Interface** - Search, edit, tag management, timeline, export, delete memories
- ğŸ·ï¸ **Source Indicators** - See where information came from (ğŸŒ Global / ğŸ’¬ Chat)
- ğŸ”„ **Vector Database** - Chroma DB for intelligent semantic search
- ğŸ” **Hybrid Search** - Combines semantic vector search (70%) + keyword matching (30%)
- ğŸ“ˆ **Retrieval Quality** - Relevance scores, source citations, transparency
- ğŸ’¾ **Document Management** - Preview, metadata display, bulk operations

#### ğŸ“‹ Task Management System (NEW!)
- âœ… **AI-Integrated Todo System** - Create, manage, and track tasks through natural language
- ğŸ¯ **Smart Task Creation** - AI extracts priorities, due dates, and categories automatically
- ğŸ“Š **Task Dashboard** - Visual statistics, filtering by status/priority/tags
- ğŸ”„ **Task Status Management** - Todo, In Progress, Completed with visual indicators
- ğŸ·ï¸ **Tag System** - Organize tasks with custom tags and categories
- ğŸ“ **Rich Text Editor** - Full markdown support for detailed task descriptions
- ğŸ” **Search & Filter** - Find tasks quickly by title, description, tags, or status
- ğŸ“ˆ **Progress Tracking** - Visual progress indicators and completion statistics
- ğŸ¤– **6 AI Agent Tools** - Natural language task management through chat
- ğŸ’¾ **MongoDB Integration** - Persistent task storage with performance indexing

#### â° Smart Reminder System (NEW!)
- ğŸ”” **Intelligent Reminders** - AI-powered reminder creation with natural language parsing
- ğŸ” **Recurrence Engine** - Daily, weekly, monthly, yearly recurring reminders
- ğŸ¯ **Priority Levels** - Low, Medium, High, Critical with visual indicators
- ğŸ“… **Smart Scheduling** - Natural date/time parsing ("tomorrow at 3pm", "every Monday")
- ğŸµ **Notification System** - Browser notifications with customizable sound alerts
- ğŸ“± **Reminder Sidebar** - Always-visible sidebar with toggle functionality (Ctrl+Shift+R)
- ğŸ¨ **Visual Status Indicators** - Color-coded status with animations (pending, overdue, completed)
- ğŸ” **Advanced Filtering** - Filter by status, priority, tags, date ranges
- ğŸ“Š **Smart Categorization** - Today, Overdue, Upcoming sections with counts
- ğŸ·ï¸ **Tag Management** - Organize reminders with custom tags
- ğŸ¤– **7 AI Agent Tools** - Natural language reminder management through chat
- âš™ï¸ **Notification Settings** - Comprehensive user preferences for alerts and sounds
- ğŸ’¾ **APScheduler Integration** - Background job processing for due reminder checks

#### ğŸ”” Outgoing Webhook System (NEW!)
- ğŸ“¤ **Event-based Webhooks** - Trigger HTTP POST notifications on task/reminder events
- ğŸ” **Multiple Auth Methods** - Support for Bearer, API Key, Basic auth, and no auth
- ğŸ”„ **Retry Logic** - Automatic retry with exponential backoff for failed webhooks
- ğŸ“Š **Execution Logs** - Track all webhook calls with detailed logs and statistics
- ğŸ¯ **Event Types** - task_created, task_updated, task_completed, task_deleted, reminder_created, reminder_due, reminder_completed, custom
- ğŸ¤– **AI Integration** - Manage webhooks through natural language
- ğŸ·ï¸ **Tagging & Filtering** - Organize webhooks with tags and filter by event types
- ğŸ“ˆ **Analytics** - Monitor success rates, failure counts, and response times

## ğŸ“ Project Structure

```
python-rag-chatagent/
â”œâ”€â”€ backend/               # FastAPI + LangChain backend
â”‚   â”œâ”€â”€ agents/           # LangChain ReAct agents
â”‚   â”œâ”€â”€ api/              # FastAPI endpoints
â”‚   â”œâ”€â”€ database/         # MongoDB connection
â”‚   â”œâ”€â”€ models/           # Data models
â”‚   â”œâ”€â”€ utils/            # LLM and tools
â”‚   â”œâ”€â”€ requirements.txt  # Python dependencies
â”‚   â”œâ”€â”€ .env              # Environment variables
â”‚   â”œâ”€â”€ start.bat         # Quick start script
â”‚   â”œâ”€â”€ seed_data.py      # Sample data seeder
â”‚   â””â”€â”€ README.md         # Backend documentation
â”œâ”€â”€ frontend/             # React Router v7 frontend (Coming in Milestone 2)
â”œâ”€â”€ PRD.md                # Product Requirements Document
â”œâ”€â”€ todo.md               # Development todo list
â””â”€â”€ README.md             # This file
```

## ğŸ› ï¸ Technology Stack

### Backend
- **FastAPI** - Modern Python web framework
- **LangChain** - LLM orchestration with ReAct agent
- **Google Gemini 2.0 Flash** - Large language model
- **MongoDB** - NoSQL database for chats, tasks, reminders
- **Chroma DB** - Vector database for RAG and semantic search
- **APScheduler** - Background job scheduler for reminders
- **Pydantic** - Data validation
- **Uvicorn** - ASGI server

### Frontend
- **React Router v7** - Modern React framework
- **TypeScript** - Type-safe JavaScript
- **Vite** - Fast build tool
- **Tailwind CSS v4** - Utility-first CSS
- **Lucide React** - Icon library

### AI & RAG Features
- **Vector Embeddings** - OpenAI/Google/HuggingFace models
- **Hybrid Search** - Semantic + keyword search
- **Document Processing** - PDF, DOCX, TXT, MD support
- **Natural Language Processing** - Date/time parsing, intent recognition

## ğŸš€ Quick Start

### Backend Setup

1. **Navigate to backend directory**
   ```cmd
   cd backend
   ```

2. **Run the quick start script** (Windows)
   ```cmd
   start.bat
   ```

   Or manually:
   ```cmd
   python -m venv venv
   venv\Scripts\activate
   pip install -r requirements.txt
   ```

3. **Configure environment variables**
   
   Edit `backend/.env`:
   ```env
   GOOGLE_API_KEY=your_google_api_key_here
   MONGODB_URI=mongodb://localhost:27017/rag_chatbot
   ```

4. **Get Google Gemini API Key**
   - Visit [Google AI Studio](https://makersuite.google.com/app/apikey)
   - Create API key
   - Paste in `.env` file

5. **Set up MongoDB**
   - Install [MongoDB Community Edition](https://www.mongodb.com/try/download/community)
   - Or use [MongoDB Atlas](https://www.mongodb.com/cloud/atlas) (free tier)

6. **Seed sample data** (optional)
   ```cmd
   python seed_data.py
   ```

7. **Start the server**
   ```cmd
   cd api
   python main.py
   ```

   Server runs at: http://localhost:8000

### Testing the API

1. **Health Check**
   ```
   http://localhost:8000/api/health
   ```

2. **API Documentation**
   ```
   http://localhost:8000/docs
   ```

3. **Test Chat Endpoint**
   ```cmd
   curl -X POST "http://localhost:8000/api/chat" ^
     -H "Content-Type: application/json" ^
     -d "{\"message\": \"What is Python?\"}"
   ```

## ğŸ“‹ API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/` | Root endpoint |
| GET | `/api/health` | Health check with DB status |
| POST | `/api/chat` | Send message to chatbot |
| GET | `/docs` | Interactive API documentation |

### Example Request/Response

**Request:**
```json
POST /api/chat
{
  "message": "What is Python?"
}
```

**Response:**
```json
{
  "response": "Python is a language, powerful and bright,\nWith syntax so simple, it's pure delight!\nFor beginners and experts, it shines with grace,\nIn web, AI, and data, it finds its place!",
  "error": null
}
```

## ğŸ§ª How It Works

### Agent Behavior

The LangChain ReAct agent intelligently decides when to use tools:

**General Questions** (No tool usage)
- "What is Python?" â†’ Direct poetic answer
- "Tell me about AI" â†’ Direct poetic answer
- "How are you?" â†’ Direct poetic answer

**Database Queries** (Tool usage)
- "Show me my posts" â†’ Uses `post_data_from_db` tool
- "What have I written about Python?" â†’ Uses `post_data_from_db` tool
- "Tell me about my blog articles" â†’ Uses `post_data_from_db` tool

### Agent Prompt

The agent uses a ReAct (Reasoning + Acting) pattern:
1. **Thought** - Analyzes the question
2. **Action** - Decides whether to use a tool
3. **Action Input** - Provides tool parameters
4. **Observation** - Sees tool results
5. **Final Answer** - Responds in rhyming verse

## ğŸ“Š Development Progress

| Phase/Milestone | Status | Completion | Features |
|----------------|--------|------------|----------|
| **Core Foundation (Milestones 1-10)** | âœ… Complete | 100% | Full-stack chatbot, streaming, voice, production-ready |
| **Advanced RAG (Phase 1.1-1.4, 2.1-2.7)** | âœ… Complete | 100% | Autonomous memory, vector DB, document processing |
| **Task Management (Phase 2.8)** | âœ… Complete | 100% | AI-integrated todo system with natural language |
| **Reminder System (Phase 2.9)** | âœ… Complete | 100% | Smart reminders with recurrence and notifications |
| **Chat Organization (Phase 5.1)** | âœ… Complete | 100% | Tag management, filtering, bulk operations |
| **Keyboard Shortcuts (Phase 5.2)** | âœ… Complete | 100% | Comprehensive shortcuts and accessibility |

**Overall Progress:** **150%+ of original scope!** ğŸš€

### What Makes This Project Special

ğŸ¯ **Beyond MVP**: Started as a 10-milestone chatbot, evolved into 15+ phases of comprehensive AI productivity suite

ğŸ§  **Autonomous Intelligence**: AI manages its own memory, creates databases, and processes documents without human intervention

ğŸ“Š **Comprehensive Features**: 35+ API endpoints, 25+ AI agent tools, 4 database systems, 60+ React components

âš¡ **Production Ready**: Docker deployment, comprehensive documentation, performance optimization

ğŸ¨ **Modern UX**: Glassmorphism design, keyboard shortcuts, real-time notifications, responsive design

## ğŸ”§ Configuration

### Environment Variables

All configuration is in `backend/.env`:

```env
# Google Gemini API
GOOGLE_API_KEY=your_api_key

# MongoDB
MONGODB_URI=mongodb://localhost:27017/rag_chatbot
DB_NAME=rag_chatbot
POSTS_COLLECTION=personal_posts
CHATS_COLLECTION=chat_sessions

# API Settings
API_HOST=0.0.0.0
API_PORT=8000

# CORS (for frontend)
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
```

## ğŸ› Troubleshooting

### Import Errors
- Ensure virtual environment is activated
- Run `pip install -r requirements.txt`

### MongoDB Connection Failed
- Check if MongoDB is running: `mongod --version`
- Verify `MONGODB_URI` in `.env`
- For Atlas, check IP whitelist

### Google API Key Invalid
- Verify API key in `.env` (no spaces)
- Check key is enabled at Google AI Studio
- Ensure you have quota available

### CORS Errors
- Add frontend URL to `CORS_ORIGINS` in `.env`
- Restart server after changing `.env`

## ğŸ“š Documentation

- **PRD.md** - Complete product requirements and rebuild instructions
- **todo.md** - Detailed development roadmap with 150+ tasks
- **backend/README.md** - Backend-specific setup guide

## ğŸ¯ Current Status & Achievements

**ğŸ”¥ COMPREHENSIVE AI PRODUCTIVITY SUITE - FULLY OPERATIONAL! ğŸ”¥**

### Core Foundation (100% Complete)
- âœ… **10 Core Milestones** - Full-stack chatbot with all essential features
- âœ… **Production Deployment** - Docker containerization and cloud-ready setup
- âœ… **Advanced UX/UI** - Glassmorphism design, streaming, voice input, shortcuts

### Phase 2 Advanced Features (100% Complete) 
- âœ… **Complete RAG System** - Vector DB, embeddings, hybrid search, document processing
- âœ… **Autonomous Memory Management** - AI-powered knowledge base with global/chat scope
- âœ… **Task Management Suite** - Full CRUD with AI integration and natural language processing
- âœ… **Smart Reminder System** - Recurrence engine, notifications, real-time monitoring
- âœ… **Document Management** - Drag & drop upload, preview, context switching

### What Makes This Special
ğŸ§  **Autonomous Intelligence**: The AI manages its own memory, creates databases, and ingests documents without human intervention

ï¿½ **Productivity Integration**: Seamlessly combines chat, tasks, reminders, and document management in one interface

ğŸ” **Advanced RAG**: Hybrid semantic + keyword search with relevance scoring and source transparency

ğŸ¤– **Natural Language Everything**: Create tasks, set reminders, manage documents through conversational AI

## ğŸš€ Live Features You Can Use Right Now

1. **ï¿½ Chat with AI** - Poetic responses with tool integration
2. **ğŸ“ Upload Documents** - PDF, DOCX, TXT, MD with automatic indexing
3. **âœ… Manage Tasks** - "Create a task to review project proposal by Friday"
4. **â° Set Reminders** - "Remind me to call mom every Sunday at 2pm"
5. **ğŸ§  Search Memory** - AI automatically finds relevant information from your documents
6. **ğŸ¯ Context Switching** - Select different document sets for different conversations
7. **ğŸ“Š Track Everything** - View usage statistics, thought processes, and system insights

## ğŸ¤ Contributing

This is a comprehensive portfolio project showcasing modern AI application development. Feel free to explore the codebase to learn about:
- LangChain agent architecture
- React Router v7 with TypeScript
- MongoDB + Vector DB integration
- Real-time notifications and scheduling
- Document processing pipelines

## ğŸ“ License

See LICENSE file for details.

## ğŸ“Š Complete Progress Summary

| Category | Status | Features Implemented |
|----------|--------|---------------------|
| **Core Milestones (1-10)** | âœ… 100% Complete | Chat, Sessions, Tools, Analytics, Streaming, Voice, Markdown, Production |
| **RAG System (Phase 2.1-2.6)** | âœ… 100% Complete | Vector DB, Document Processing, Hybrid Search, Transparency |
| **Memory Management (Phase 1.1-1.4)** | âœ… 100% Complete | Autonomous AI Memory, Global/Chat Scope, CRUD Interface |
| **Task Management (Phase 2.8)** | âœ… 100% Complete | 9 API Endpoints, 6 AI Tools, MongoDB Integration |
| **Reminder System (Phase 2.9)** | âœ… 100% Complete | 10 API Endpoints, 7 AI Tools, Notifications, Sidebar |
| **Chat Organization (Phase 5.1)** | âœ… 100% Complete | Tag Management, Filtering, Bulk Operations |
| **Keyboard Shortcuts (Phase 5.2)** | âœ… 100% Complete | Comprehensive Shortcuts, Help Modal, Accessibility |

### Total Implementation Stats
- **ğŸ“Š 35+ API Endpoints** across all systems
- **ğŸ¤– 25+ AI Agent Tools** for natural language interaction  
- **ğŸ’¾ 4 Database Systems** (MongoDB collections + Chroma vector DB)
- **ğŸ¨ 65+ React Components** with TypeScript
- **âš¡ 20+ Keyboard Shortcuts** for power users
- **ğŸ”” Advanced Notification System** with sound alerts and preferences
- **ğŸ“± Fully Responsive Design** optimized for all devices

### Latest Achievements (November 2025)
- âœ… **Chat Organization System** - Complete tag management, filtering, and bulk operations
- âœ… **Keyboard Shortcuts Suite** - Professional shortcuts with help modal (Ctrl+/)
- âœ… **Enhanced Accessibility** - ARIA labels, focus management, screen reader support
- âœ… **Bulk Chat Operations** - Multi-select, bulk delete, bulk tagging capabilities
- âœ… **Advanced Filtering** - Filter by tags, dates, starred, pinned status
- âœ… **UX Polish** - Smooth animations, visual feedback, responsive design improvements

**Overall Progress: 150%+ of original scope achieved! Next-generation AI productivity suite! ğŸš€**

---

**Built with â¤ï¸ using FastAPI, LangChain, and Google Gemini**

For detailed implementation guide, see **PRD.md**
